<!DOCTYPE html>
<html>
<head>
  <title>Age Finder</title>
</head>
<body style="font-family: Arial, sans-serif; padding: 20px;">
  <h2>Find Age by Email</h2>
  <input type="email" id="emailInput" placeholder="Enter email" style="padding: 8px; width: 250px;" />
  <button onclick="getAge()" style="padding: 8px 12px;">Get Age</button>

  <p id="result" style="margin-top: 15px; font-weight: bold;"></p>

  <script>
    async function getAge() {
      const email = document.getElementById("emailInput").value.trim();
      const resultBox = document.getElementById("result");

      if (!email) {
        resultBox.textContent = "Please enter an email.";
        return;
      }

      try {
        const response = await fetch(
          `https://script.google.com/macros/s/AKfycbwsqwkEe_QaF12gz9pTtYhj07FsKW20vGuEaEt27vOAgGEKQcT_-jB5s5j9swF3gYob/exec?email=${encodeURIComponent(email)}`
        );

        const data = await response.json();

        if (data.age === "Not found") {
          resultBox.textContent = "Email not found in the sheet.";
        } else {
          resultBox.textContent = `Age: ${data.age}`;
        }
      } catch (error) {
        resultBox.textContent = "Error fetching age. Please try again.";
        console.error(error);
      }
    }
  </script>
</body>
</html>
